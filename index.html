<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Birthday Surprise for Aashi</title>
<style>
  body {
    font-family: 'Comic Sans MS', cursive;
    background: linear-gradient(to bottom, #ffd1dc, #ffe0ac);
    text-align: center;
    overflow-x: hidden;
  }
  h1, h2 {
    color: #ff3366;
  }
  .hidden { display: none; }
  button {
    padding: 12px 20px;
    background: #ff88bb;
    color: white;
    border: none;
    border-radius: 10px;
    margin-top: 15px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.2s;
  }
  button:hover { transform: scale(1.1); }

  /* Hearts */
  .heart {
    width: 60px;
    height: 60px;
    background: url('https://i.ibb.co/fMTF5pH/heart.png') center/contain no-repeat;
    display: inline-block;
    margin: 10px;
    cursor: grab;
  }

  #basket {
    width: 120px;
    height: 120px;
    margin: 20px auto;
    background: url('https://i.ibb.co/xjD7h3V/basket.png') center/contain no-repeat;
  }

  /* Reduced confetti */
  .confetti {
    position: fixed;
    width: 10px; height: 10px;
    animation: fall 2.5s linear forwards;
    opacity: 0.8;
  }

  @keyframes fall {
    0% { transform: translateY(-40px) rotate(0deg); }
    100% { transform: translateY(100vh) rotate(180deg); opacity: 0; }
  }
</style>
</head>
<body>

<h1 id="intro">Hey Aashi! üéâ I have a surprise for you!</h1>
<button id="startBtn">Start the Surprise</button>

<div id="story" class="hidden">
  <h2>Drag a gift into the basket üéÅ</h2>
  <div id="gift1" class="heart" draggable="true"></div>
  <div id="gift2" class="heart" draggable="true"></div>
  <div id="gift3" class="heart" draggable="true"></div>
  <div id="basket"></div>
</div>

<div id="message" class="hidden">
  <h2 id="msgText"></h2>
  <button id="nextBtn">Next</button>
</div>

<div id="quiz" class="hidden">
  <h2>Guess the emoji: üéÇ</h2>
  <button onclick="finish(true)">Cake</button>
  <button onclick="finish(false)">Mango</button>
  <button onclick="finish(false)">Orange</button>
</div>

<div id="final" class="hidden">
  <h1>üéÜ Happy Birthday, Aashi! üéÜ</h1>
  <h2>You make the world brighter! üíñ</h2>
</div>

<audio id="clickSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>
<audio id="successSound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
<audio id="finalSound" src="https://www.soundjay.com/misc/sounds/fanfare-01.mp3"></audio>

<script>
const startBtn = document.getElementById('startBtn');
const story = document.getElementById('story');
const messageDiv = document.getElementById('message');
const msgText = document.getElementById('msgText');
const nextBtn = document.getElementById('nextBtn');
const quiz = document.getElementById('quiz');
const final = document.getElementById('final');

startBtn.onclick = () => {
  document.getElementById('clickSound').play();
  startBtn.style.display = 'none';
  story.classList.remove('hidden');
  createConfetti(5); // reduced for speed
}

// Drag + Drop
const gifts = document.querySelectorAll('.heart');
const basket = document.getElementById('basket');

gifts.forEach(g => {
  g.addEventListener('dragstart', e => e.dataTransfer.setData('id', e.target.id));
});

basket.addEventListener('dragover', e => e.preventDefault());
basket.addEventListener('drop', e => {
  e.preventDefault();
  const id = e.dataTransfer.getData('id');
  document.getElementById(id).style.display = 'none';
  document.getElementById('successSound').play();

  story.classList.add('hidden');
  messageDiv.classList.remove('hidden');
  msgText.innerText = "You unlocked a surprise, Aashi! üíù";
});

nextBtn.onclick = () => {
  quiz.classList.remove('hidden');
  messageDiv.classList.add('hidden');
  document.getElementById('clickSound').play();
}

function finish(correct){
  quiz.classList.add('hidden');
  final.classList.remove('hidden');
  document.getElementById('finalSound').play();
}

// Confetti (lightweight)
function createConfetti(count){
  for(let i=0;i<count;i++){
    const c = document.createElement('div');
    c.classList.add('confetti');
    c.style.left = Math.random()*window.innerWidth + 'px';
    c.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 60%)`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(), 2600);
  }
}
</script>

  
<script>
// EXTENSION: Add a small balloon‚Äëpop game to increase total time to ~2.5 minutes

let balloonGameStarted = false;

function startBalloonGame(){
  balloonGameStarted = true;
  const game = document.createElement('div');
  game.id = 'balloonGame';
  game.innerHTML = `<h2>Pop 5 balloons! üéà</h2>`;
  document.body.appendChild(game);

  let popped = 0;

  for(let i=0;i<5;i++){
    const b = document.createElement('div');
    b.style.width = '60px';
    b.style.height = '80px';
    b.style.borderRadius = '50%';
    b.style.position = 'absolute';
    b.style.top = (Math.random()*60+20)+'vh';
    b.style.left = (Math.random()*80+10)+'vw';
    b.style.backgroundColor = `hsl(${Math.random()*360}, 80%, 70%)`;
    b.style.cursor = 'pointer';
    b.onclick = () => {
      popped++;
      b.remove();
      if(popped===5){
        document.getElementById('balloonGame').innerHTML += `<h3>Great job, Aashi! üéâ</h3>`;
        setTimeout(()=>{
          document.getElementById('balloonGame').remove();
          final.classList.remove('hidden');
          document.getElementById('finalSound').play();
        }, 1500);
      }
    }
    game.appendChild(b);
  }
}

// MODIFY finish() to start balloon game
const originalFinish = finish;
finish = function(correct){
  quiz.classList.add('hidden');
  // start balloon pop game instead of final screen
  startBalloonGame();
}
</script>

</body>
</html>

